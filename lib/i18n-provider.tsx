"use client"

import type React from "react"
import { createContext, useContext, useState, useEffect } from "react"

type Language = "en" | "ko"

interface I18nContextType {
  language: Language
  setLanguage: (lang: Language) => void
  t: (key: string) => string
}

const I18nContext = createContext<I18nContextType | undefined>(undefined)

const translations: Record<Language, Record<string, string>> = {
  en: {
    // Brand
    "brand.name": "Seesaw Finance",
    "brand.tagline": "Stock-Collateralized Lending Platform",

    // Navigation
    "nav.dashboard": "Portfolio",
    "nav.portfolio": "Loan",
    "nav.send": "Send",
    "nav.receive": "Receive",
    "nav.buy": "Trade",
    "nav.sell": "Sell",
    "nav.login": "Login",
    "nav.logout": "Logout",

    // Landing Page
    "landing.hero.title": "Unlock Liquidity from Your Stocks",
    "landing.hero.subtitle":
      "Borrow KRW1 tokens using your stock portfolio as collateral. Trade crypto without selling your investments.",
    "landing.hero.cta": "Get Started",
    "landing.features.title": "How It Works",
    "landing.feature1.title": "Stock Collateral Lending",
    "landing.feature1.desc": "Leverage your stock holdings to borrow up to 3x in KRW1 tokens.",
    "landing.feature2.title": "Trade Crypto",
    "landing.feature2.desc": "Use borrowed KRW1 to trade cryptocurrencies on integrated DEXs.",
    "landing.feature3.title": "Flexible Repayment",
    "landing.feature3.desc": "Repay with KRW1, other tokens, or liquidate collateral.",

    // Dashboard
    "dashboard.title": "Asset Overview",
    "dashboard.totalValue": "Total Value",
    "dashboard.collateral": "Collateral",
    "dashboard.loans": "Loans",
    "dashboard.healthFactor": "Health Factor",
    "dashboard.quickActions": "Quick Actions",
    "dashboard.borrow": "Borrow",
    "dashboard.repay": "Repay",
    "dashboard.addCollateral": "Add Collateral",
    "dashboard.recentTransactions": "Recent Transactions",
    "dashboard.assets": "Assets",
    "dashboard.stocks": "Stocks",
    "dashboard.tokens": "Tokens",
    "dashboard.cryptoAssets": "Total Crypto Assets",
    "dashboard.stockAssets": "Total Stock Assets",
    "dashboard.shares": "shares",
    "dashboard.share": "share",
    "dashboard.totalAssets": "Total Assets",
    "dashboard.todayChange": "+{percent}% Today",
    "dashboard.stockCollateralValue": "Stock Collateral",
    "dashboard.krw1Tokens": "KRW1 Tokens",
    "dashboard.liquidationPrice": "Liquidation Price: ₩{price}",
    "dashboard.safe": "Safe",
    "dashboard.caution": "Caution",
    "dashboard.danger": "Danger",
    "dashboard.quickExecute": "Quick Actions",
    "dashboard.issueKRW1": "Issue KRW1",
    "dashboard.repayLoan": "Repay Loan",
    "dashboard.tokenSwap": "Token Swap",
    "dashboard.trade": "Trade",
    "dashboard.recentTx": "Recent Transactions",
    "dashboard.txType.borrow": "Borrow",
    "dashboard.txType.repay": "Repay",
    "dashboard.txType.collateral_add": "Add Collateral",
    "dashboard.txType.swap": "Swap",
    "dashboard.txType.send": "Send",
    "dashboard.txType.receive": "Receive",
    "dashboard.today": "Today",
    "dashboard.collateralValue": "Collateral Value",
    "dashboard.loanAmount": "Loan Amount",
    "dashboard.krw1Token": "KRW1 Token",
    "dashboard.swap": "Swap",
    "dashboard.exchangeTokens": "Exchange Tokens",
    "dashboard.perpDex": "Perp DEX",

    // Loan
    "loan.title": "Loan",
    "loan.subtitle": "Manage your loans and collateral",
    "loan.collateralStatus": "Collateral Status",
    "loan.totalCollateral": "Total Collateral",
    "loan.cryptoCollateral": "Crypto Collateral",
    "loan.stockCollateral": "Stock Collateral",
    "loan.activeLoans": "Active Loans",
    "loan.loanAmount": "Loan Amount",
    "loan.interest": "Interest",
    "loan.accruedInterest": "Accrued Interest",
    "loan.dueDate": "Due Date",
    "loan.healthFactor": "Health Factor",
    "loan.liquidationPrice": "Liquidation Price",
    "loan.actions": "Actions",
    "loan.addCollateral": "Add Collateral",
    "loan.newLoan": "New Loan",
    "loan.repay": "Repay",
    "loan.noLoans": "No Active Loans",
    "loan.noLoansDesc": "Start your first loan by adding collateral",
    "loan.interestStatus": "Interest Status",
    "loan.dailyInterest": "Daily Interest",
    "loan.totalInterest": "Total Interest Accrued",
    "loan.collateralValue": "Collateral Value: ₩{value}",
    "loan.collateralDetails": "Collateral Account Details",
    "loan.noCollateralUsed": "No collateral currently in use",
    "loan.addCollateralToStart": "Add collateral to start your first loan",
    "loan.issuedKRW1": "Issued KRW1",
    "loan.tokens": " tokens",
    "loan.accounts": " accounts",
    "loan.collateralAccountDetails": "Collateral Account Details",
    "loan.noCollateralAccounts": "No stock accounts currently used as collateral",
    "loan.inUse": "In Use",
    "loan.issued": "Issued",
    "loan.collateralAssets": "Collateral Assets",
    "loan.collateralCrypto": "Collateral Crypto",
    "loan.usedForIssuance": "Used for Issuance",

    // Borrow
    "borrow.title": "Borrow",
    "borrow.subtitle": "Borrow KRW1 using your stocks as collateral",
    "borrow.step.brokerage": "Brokerage",
    "borrow.step.collateral": "Collateral",
    "borrow.step.configuration": "Configuration",
    "borrow.selectStocks": "Select stocks to use as collateral",
    "borrow.maxBorrow": "Max Borrow",
    "borrow.loanAmount": "Loan Amount (KRW1)",
    "borrow.loanDetails": "Loan Details",
    "borrow.execute": "Execute Loan",
    "borrow.success": "Loan Completed!",
    "borrow.toDashboard": "To Dashboard",
    "borrow.addCollateral": "Add collateral or repay loan.",
    "borrow.selectBrokerage": "Select Brokerage",
    "borrow.selectBrokerageDesc": "Select the brokerage for your stock account to use as collateral",
    "borrow.termsConsent": "Terms Consent",
    "borrow.termsConsentDesc": "Please agree to the following terms to access your stock account and set up collateral",
    "borrow.serviceTerms": "Service Terms Agreement (Required)",
    "borrow.serviceTermsDesc": "Agree to the basic terms for using Seesaw Finance services",
    "borrow.privacyConsent": "Privacy Collection and Use Agreement (Required)",
    "borrow.privacyConsentDesc": "Agree to collect personal information for stock account inquiry",
    "borrow.pledgeConsent": "Stock Pledge Agreement (Required)",
    "borrow.pledgeConsentDesc": "Agree to set up stock pledge for loan collateral",
    "borrow.checkAccounts": "Check Accounts",
    "borrow.agreeToAll": "Please agree to all items",
    "borrow.selectCollateral": "Select Collateral Stocks",
    "borrow.selectCollateralDesc": "Select stocks to use as loan collateral",
    "borrow.selectedCollateralValue": "Selected Collateral Value",
    "borrow.setLoanAmount": "Set Loan Amount",
    "borrow.minMax": "Min: ₩{min} / Max: ₩{max}",
    "borrow.collateralValue": "Collateral Value",
    "borrow.ltvRatio": "LTV Ratio",
    "borrow.annualInterest": "Annual Interest",
    "borrow.liquidationGuide": "Liquidation Guide",
    "borrow.liquidationWarning":
      "If collateral value falls below ₩{price}, it will be automatically liquidated. To prevent liquidation, add collateral or repay the loan.",
    "borrow.highRiskWarning": "LTV ratio is very high. There is a risk of liquidation if stock prices fall.",
    "borrow.mediumRiskWarning": "LTV ratio is high. Monitor collateral ratio carefully.",
    "borrow.loanCompleted": "₩{amount} KRW1 tokens have been deposited to your wallet",
    "borrow.goToTrade": "Go to Trade",

    // Repay
    "repay.title": "Repay Loan",
    "repay.subtitle": "Repay your loan and recover collateral",
    "repay.step.select": "Select Loan",
    "repay.step.method": "Method",
    "repay.step.amount": "Amount",
    "repay.selectLoan": "Select Loan to Repay",
    "repay.noLoans": "No Active Loans",
    "repay.noLoansDesc": "No loans to repay",
    "repay.method.krw1": "Repay with KRW1",
    "repay.method.krw1.desc": "Directly repay with your KRW1 tokens",
    "repay.method.swap": "Repay with Other Tokens",
    "repay.method.swap.desc": "Swap your tokens to KRW1 and repay",
    "repay.method.liquidate": "Liquidate Stocks",
    "repay.method.liquidate.desc": "Sell collateral stocks to repay (fees apply)",
    "repay.method.deposit": "Deposit & Repay",
    "repay.method.deposit.desc": "Deposit KRW1 from external wallet and repay",
    "repay.selectMethod": "Select Repayment Method",
    "repay.selectMethodDesc": "Choose how to repay your loan",
    "repay.totalRepayment": "Total Repayment",
    "repay.setAmount": "Set Repayment Amount",
    "repay.repaymentAmount": "Repayment Amount",
    "repay.repaymentDetails": "Repayment Details",
    "repay.afterCollateral": "Collateral After Repayment",
    "repay.fullRepayNote": "Full repayment will immediately release collateral.",
    "repay.liquidationNote": "Stock liquidation incurs a 2% fee and will be sold at market price.",
    "repay.depositInstructions":
      "Deposit KRW1 from external wallet, then proceed with repayment. Deposit address will be shown in the next step.",
    "repay.selectLoanToRepay": "Select Loan to Repay",
    "repay.noActiveLoans": "No Active Loans",
    "repay.noLoansToRepay": "No loans to repay",
    "repay.principal": "Principal",
    "repay.remainingPeriod": "Remaining Period",
    "repay.daysLeft": "{days} days",
    "repay.repayButton": "Repay",
    "repay.recommended": "Recommended",
    "repay.selectToken": "Select Token to Swap",
    "repay.repayAmount": "Repayment Amount",
    "repay.remainingDebt": "Remaining Debt",
    "repay.liquidationFee": "Liquidation Fee (2%)",
    "repay.insufficientBalance": "Insufficient KRW1 balance. Current balance: ₩{balance}",
    "repay.fullRepaymentNote": "Full repayment will immediately release collateral.",
    "repay.liquidationNote": "Stock liquidation incurs a 2% fee and will be sold at market price.",
    "repay.depositInstructions":
      "Deposit KRW1 from external wallet, then proceed with repayment. Deposit address will be shown in the next step.",

    // Swap/Trade
    "swap.title": "Swap",
    "swap.from": "From",
    "swap.to": "To",
    "swap.balance": "Balance",
    "swap.rate": "Rate",
    "swap.slippage": "Slippage",
    "swap.fee": "Fee",
    "swap.execute": "Swap",
    "trade.selectToken": "Select Token",
    "trade.selectTokenDesc": "Select a token to swap",
    "trade.price": "Price",
    "trade.amount": "Amount",
    "trade.balance": "Balance",
    "trade.youllGet": "You'll get",
    "trade.insufficientBalance": "Insufficient balance",
    "trade.insufficientKRW1": "Insufficient KRW1 balance for buying",
    "trade.insufficientToken": "Insufficient token balance for selling",
    "trade.purchaseCompleted": "Purchase completed!",
    "trade.saleCompleted": "Sale completed!",
    "trade.processing": "Processing...",
    "trade.buy": "Buy {symbol}",
    "trade.sell": "Sell {symbol}",
    "trade.enterAmount": "0",
    "trade.krw1Balance": "KRW1 Balance",
    "trade.buyYouGet": "Buy: You'll get",
    "trade.sellYouGet": "Sell: You'll get",
    "trade.buySuccess": "Purchase completed!",
    "trade.sellSuccess": "Sale completed!",
    "trade.fee": "Fee",

    // Send/Receive
    "send.title": "Send",
    "send.subtitle": "Send tokens to another wallet",
    "send.selectToken": "Select Token",
    "send.sendAmount": "Send Amount",
    "send.token": "Token",
    "send.amount": "Amount",
    "send.recipient": "Recipient Address",
    "send.recipientAddress": "Recipient Address",
    "send.addressPlaceholder": "Enter recipient's wallet address",
    "send.execute": "Send",
    "send.balance": "Balance: {balance}",
    "send.max": "Max",
    "send.estimatedFee": "Estimated Fee",
    "send.totalAmount": "Total Amount",
    "send.insufficientBalance": "Insufficient balance",
    "send.invalidAddress": "Please enter a valid address",
    "send.sending": "Sending...",
    "send.sendButton": "Send",
    "send.sendCompleted": "Transfer completed!",
    "send.warning": "Sent tokens cannot be reversed. Please double-check the recipient address.",
    // Receive
    "receive.title": "Receive",
    "receive.subtitle": "Share your address to receive tokens",
    "receive.address": "Your Wallet Address",
    "receive.copy": "Copy Address",
    "receive.qr": "QR Code",
    "receive.addressCopied": "Address copied",
    "receive.supportedTokens": "Supported Tokens",
    "receive.warning":
      "You can receive KRW1, ETH, USDT and other tokens to this address. Do not send tokens from other networks.",
  },
  ko: {
    // Brand
    "brand.name": "Seesaw Finance",
    "brand.tagline": "주식 담보 대출 플랫폼",

    // Navigation
    "nav.dashboard": "포트폴리오",
    "nav.portfolio": "대출",
    "nav.send": "전송",
    "nav.receive": "받기",
    "nav.buy": "거래",
    "nav.sell": "판매",
    "nav.login": "로그인",
    "nav.logout": "로그아웃",

    // Landing Page
    "landing.hero.title": "주식으로 유동성을 확보하세요",
    "landing.hero.subtitle":
      "보유 주식을 담보로 KRW1 토큰을 대출받으세요. 투자를 매도하지 않고 암호화폐를 거래할 수 있습니다.",
    "landing.hero.cta": "시작하기",
    "landing.features.title": "작동 방식",
    "landing.feature1.title": "주식 담보 대출",
    "landing.feature1.desc": "보유 주식의 가치를 활용하여 최대 3배까지 KRW1 토큰을 대출받으세요.",
    "landing.feature2.title": "암호화폐 거래",
    "landing.feature2.desc": "대출받은 KRW1로 통합 DEX에서 암호화폐를 거래하세요.",
    "landing.feature3.title": "유연한 상환",
    "landing.feature3.desc": "KRW1, 다른 토큰으로 상환하거나 담보를 청산할 수 있습니다.",

    // Dashboard
    "dashboard.title": "자산 현황",
    "dashboard.totalValue": "총 가치",
    "dashboard.collateral": "담보",
    "dashboard.loans": "대출",
    "dashboard.healthFactor": "건강도",
    "dashboard.quickActions": "빠른 실행",
    "dashboard.borrow": "대출하기",
    "dashboard.repay": "상환하기",
    "dashboard.addCollateral": "담보 추가",
    "dashboard.recentTransactions": "최근 거래",
    "dashboard.assets": "자산",
    "dashboard.stocks": "주식",
    "dashboard.tokens": "토큰",
    "dashboard.cryptoAssets": "총 암호화폐 자산",
    "dashboard.stockAssets": "총 주식 자산",
    "dashboard.shares": "주",
    "dashboard.share": "주",
    "dashboard.totalAssets": "총 자산",
    "dashboard.todayChange": "+{percent}% 오늘",
    "dashboard.stockCollateralValue": "주식 담보",
    "dashboard.krw1Tokens": "KRW1 토큰",
    "dashboard.liquidationPrice": "청산 가격: ₩{price}",
    "dashboard.safe": "안전",
    "dashboard.caution": "주의",
    "dashboard.danger": "위험",
    "dashboard.quickExecute": "빠른 실행",
    "dashboard.issueKRW1": "KRW1 발행",
    "dashboard.repayLoan": "대출 상환",
    "dashboard.tokenSwap": "토큰 교환",
    "dashboard.trade": "거래",
    "dashboard.recentTx": "최근 거래",
    "dashboard.txType.borrow": "대출",
    "dashboard.txType.repay": "상환",
    "dashboard.txType.collateral_add": "담보 추가",
    "dashboard.txType.swap": "스왑",
    "dashboard.txType.send": "전송",
    "dashboard.txType.receive": "수신",
    "dashboard.today": "오늘",
    "dashboard.collateralValue": "담보 가치",
    "dashboard.loanAmount": "대출 금액",
    "dashboard.krw1Token": "KRW1 토큰",
    "dashboard.swap": "스왑",
    "dashboard.exchangeTokens": "토큰 교환",
    "dashboard.perpDex": "Perp DEX",

    // Loan
    "loan.title": "대출",
    "loan.subtitle": "대출 현황과 담보를 관리하세요",
    "loan.collateralStatus": "담보 현황",
    "loan.totalCollateral": "총 담보 가치",
    "loan.cryptoCollateral": "암호화폐 담보",
    "loan.stockCollateral": "주식 담보",
    "loan.activeLoans": "활성 대출",
    "loan.loanAmount": "대출 금액",
    "loan.interest": "이자율",
    "loan.accruedInterest": "누적 이자",
    "loan.dueDate": "만기일",
    "loan.healthFactor": "건강도",
    "loan.liquidationPrice": "청산 가격",
    "loan.actions": "실행",
    "loan.addCollateral": "담보 추가",
    "loan.newLoan": "새 대출",
    "loan.repay": "상환하기",
    "loan.noLoans": "활성 대출이 없습니다",
    "loan.noLoansDesc": "담보를 추가하여 첫 대출을 시작하세요",
    "loan.interestStatus": "이자 현황",
    "loan.dailyInterest": "일일 이자",
    "loan.totalInterest": "총 누적 이자",
    "loan.collateralValue": "담보 가치: ₩{value}",
    "loan.collateralDetails": "담보 계좌 상세",
    "loan.noCollateralUsed": "현재 담보로 사용 중인 자산이 없습니다",
    "loan.addCollateralToStart": "담보를 추가하여 첫 대출을 시작하세요",
    "loan.issuedKRW1": "발행된 KRW1",
    "loan.tokens": "개 토큰",
    "loan.accounts": "개 계좌",
    "loan.collateralAccountDetails": "담보 계좌 상세",
    "loan.noCollateralAccounts": "담보로 사용 중인 주식 계좌가 없습니다",
    "loan.inUse": "담보 사용 중",
    "loan.issued": "발행됨",
    "loan.collateralAssets": "담보 자산",
    "loan.collateralCrypto": "담보 암호화폐",
    "loan.usedForIssuance": "발행에 사용",

    // Borrow
    "borrow.title": "대출하기",
    "borrow.subtitle": "주식을 담보로 KRW1을 대출받으세요",
    "borrow.step.brokerage": "증권사",
    "borrow.step.collateral": "담보",
    "borrow.step.configuration": "대출 설정",
    "borrow.selectStocks": "대출 담보로 사용할 주식을 선택하세요",
    "borrow.maxBorrow": "최대 대출 가능",
    "borrow.loanAmount": "대출 금액 (KRW1)",
    "borrow.loanDetails": "대출 상세 정보",
    "borrow.execute": "대출 실행",
    "borrow.success": "대출이 완료되었습니다!",
    "borrow.toDashboard": "대시보드로",
    "borrow.addCollateral": "담보를 추가하거나 대출을 상환하세요.",
    "borrow.selectBrokerage": "증권사 선택",
    "borrow.selectBrokerageDesc": "담보로 사용할 주식 계좌의 증권사를 선택하세요",
    "borrow.termsConsent": "약관 동의",
    "borrow.termsConsentDesc": "주식 계좌 조회 및 질권 설정을 위해 다음 약관에 동의해주세요",
    "borrow.serviceTerms": "서비스 이용약관 동의 (필수)",
    "borrow.serviceTermsDesc": "Seesaw Finance 서비스 이용을 위한 기본 약관에 동의합니다",
    "borrow.privacyConsent": "개인정보 수집 및 이용 동의 (필수)",
    "borrow.privacyConsentDesc": "주식 계좌 정보 조회를 위한 개인정보 수집에 동의합니다",
    "borrow.pledgeConsent": "주식 질권 설정 동의 (필수)",
    "borrow.pledgeConsentDesc": "대출 담보를 위한 주식 질권 설정에 동의합니다",
    "borrow.checkAccounts": "계좌 조회하기",
    "borrow.agreeToAll": "모든 항목에 동의해주세요",
    "borrow.selectCollateral": "담보 주식 선택",
    "borrow.selectCollateralDesc": "대출 담보로 사용할 주식을 선택하세요",
    "borrow.selectedCollateralValue": "선택한 담보 가치",
    "borrow.setLoanAmount": "대출 금액 설정",
    "borrow.minMax": "최소: ₩{min} / 최대: ₩{max}",
    "borrow.collateralValue": "담보 가치",
    "borrow.ltvRatio": "LTV 비율",
    "borrow.annualInterest": "이자율 (연)",
    "borrow.liquidationGuide": "청산 안내",
    "borrow.liquidationWarning":
      "담보 가치가 ₩{price} 이하로 떨어지면 자동으로 청산됩니다. 청산을 방지하려면 담보를 추가하거나 대출을 상환하세요.",
    "borrow.highRiskWarning": "LTV 비율이 매우 높습니다. 주가 하락 시 청산 위험이 있습니다.",
    "borrow.mediumRiskWarning": "LTV 비율이 높은 편입니다. 담보 비율을 주의깊게 모니터링하세요.",
    "borrow.loanCompleted": "₩{amount} KRW1 토큰이 지갑에 입금되었습니다",
    "borrow.goToTrade": "거래하러 가기",
    "trade.enterAmount": "0",
    "trade.krw1Balance": "KRW1 잔액",
    "trade.buyYouGet": "구매: 받을 수량",
    "trade.sellYouGet": "판매: 받을 금액",
    "trade.buySuccess": "구매가 완료되었습니다!",
    "trade.sellSuccess": "판매가 완료되었습니다!",
    "trade.fee": "수수료",

    // Repay
    "repay.title": "대출 상환",
    "repay.subtitle": "대출을 상환하고 담보를 회수하세요",
    "repay.step.select": "대출 선택",
    "repay.step.method": "방법",
    "repay.step.amount": "금액",
    "repay.selectLoan": "상환할 대출 선택",
    "repay.noLoans": "활성 대출이 없습니다",
    "repay.noLoansDesc": "상환할 대출이 없습니다",
    "repay.method.krw1": "KRW1로 상환",
    "repay.method.krw1.desc": "보유 중인 KRW1 토큰으로 직접 상환합니다",
    "repay.method.swap": "다른 토큰으로 상환",
    "repay.method.swap.desc": "보유 토큰을 KRW1로 스왑한 후 상환합니다",
    "repay.method.liquidate": "주식 청산 후 상환",
    "repay.method.liquidate.desc": "담보 주식을 매도하여 상환합니다 (수수료 발생)",
    "repay.method.deposit": "지갑 입금 후 상환",
    "repay.method.deposit.desc": "외부에서 KRW1을 입금받아 상환합니다",
    "repay.selectMethod": "상환 방법 선택",
    "repay.selectMethodDesc": "대출을 상환할 방법을 선택하세요",
    "repay.totalRepayment": "총 상환 금액",
    "repay.setAmount": "상환 금액 설정",
    "repay.repaymentAmount": "상환 금액",
    "repay.repaymentDetails": "상환 상세",
    "repay.afterCollateral": "상환 후 담보 가치",
    "repay.fullRepayNote": "전액 상환 시 담보가 즉시 해제됩니다.",
    "repay.liquidationNote": "주식 청산 시 2%의 수수료가 발생하며, 시장가로 매도됩니다.",
    "repay.depositInstructions":
      "외부 지갑에서 KRW1을 입금받은 후 상환을 진행하세요. 입금 주소는 다음 단계에서 확인할 수 있습니다.",
    "repay.selectLoanToRepay": "상환할 대출 선택",
    "repay.noActiveLoans": "활성 대출이 없습니다",
    "repay.noLoansToRepay": "상환할 대출이 없습니다",
    "repay.principal": "원금",
    "repay.remainingPeriod": "남은 기간",
    "repay.daysLeft": "{days}일",
    "repay.repayButton": "상환하기",
    "repay.recommended": "추천",
    "repay.selectToken": "스왑할 토큰 선택",
    "repay.repayAmount": "상환 금액",
    "repay.remainingDebt": "남은 부채",
    "repay.liquidationFee": "청산 수수료 (2%)",
    "repay.insufficientBalance": "KRW1 잔액이 부족합니다. 현재 잔액: ₩{balance}",
    "repay.fullRepaymentNote": "전액 상환 시 담보가 즉시 해제됩니다.",
    "repay.liquidationNote": "주식 청산 시 2%의 수수료가 발생하며, 시장가로 매도됩니다.",
    "repay.depositInstructions":
      "외부 지갑에서 KRW1을 입금받은 후 상환을 진행하세요. 입금 주소는 다음 단계에서 확인할 수 있습니다.",

    // Swap/Trade
    "swap.title": "스왑",
    "swap.from": "보내기",
    "swap.to": "받기",
    "swap.balance": "잔액",
    "swap.rate": "환율",
    "swap.slippage": "슬리피지",
    "swap.fee": "수수료",
    "swap.execute": "스왑",
    "trade.selectToken": "토큰 선택",
    "trade.selectTokenDesc": "스왑할 토큰을 선택하세요",
    "trade.price": "가격",
    "trade.amount": "금액",
    "trade.balance": "잔액",
    "trade.youllGet": "받을 금액",
    "trade.insufficientBalance": "잔액 부족",
    "trade.insufficientKRW1": "구매를 위한 KRW1 잔액이 부족합니다",
    "trade.insufficientToken": "판매를 위한 토큰 잔액이 부족합니다",
    "trade.purchaseCompleted": "구매가 완료되었습니다!",
    "trade.saleCompleted": "판매가 완료되었습니다!",
    "trade.processing": "처리 중...",
    "trade.buy": "{symbol} 구매",
    "trade.sell": "{symbol} 판매",

    // Send/Receive
    "send.title": "전송",
    "send.subtitle": "토큰을 다른 지갑으로 전송하세요",
    "send.selectToken": "토큰 선택",
    "send.sendAmount": "전송 금액",
    "send.token": "토큰",
    "send.amount": "금액",
    "send.recipient": "받는 주소",
    "send.recipientAddress": "받는 주소",
    "send.addressPlaceholder": "받는 사람의 지갑 주소를 입력하세요",
    "send.execute": "전송",
    "send.balance": "잔액: {balance}",
    "send.max": "최대",
    "send.estimatedFee": "예상 수수료",
    "send.totalAmount": "총 금액",
    "send.insufficientBalance": "잔액이 부족합니다",
    "send.invalidAddress": "올바른 주소를 입력하세요",
    "send.sending": "전송 중...",
    "send.sendButton": "전송",
    "send.sendCompleted": "전송이 완료되었습니다!",
    "send.warning": "전송한 토큰은 되돌릴 수 없습니다. 받는 주소를 다시 한번 확인하세요.",
    // Receive
    "receive.title": "받기",
    "receive.subtitle": "토큰을 받을 주소를 공유하세요",
    "receive.address": "지갑 주소",
    "receive.copy": "주소 복사",
    "receive.qr": "QR 코드",
    "receive.addressCopied": "주소가 복사되었습니다",
    "receive.supportedTokens": "지원 토큰",
    "receive.warning":
      "이 주소로 KRW1, ETH, USDT 등의 토큰을 받을 수 있습니다. 다른 네트워크의 토큰을 전송하지 마세요.",
  },
}

export function I18nProvider({ children }: { children: React.ReactNode }) {
  const [language, setLanguageState] = useState<Language>("ko")

  useEffect(() => {
    const saved = localStorage.getItem("language") as Language
    if (saved && (saved === "en" || saved === "ko")) {
      setLanguageState(saved)
    }
  }, [])

  const setLanguage = (lang: Language) => {
    setLanguageState(lang)
    localStorage.setItem("language", lang)
  }

  const t = (key: string) => {
    return translations[language][key] || key
  }

  return <I18nContext.Provider value={{ language, setLanguage, t }}>{children}</I18nContext.Provider>
}

export function useTranslation() {
  const context = useContext(I18nContext)
  if (!context) {
    throw new Error("useTranslation must be used within I18nProvider")
  }
  return context
}
